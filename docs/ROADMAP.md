# GitHub Insights 開発ロードマップ

> 最終更新: 2025-12-19

## プロジェクト概要

**目的**: 特定開発者のリポジトリへの貢献度を可視化する

**ビジョン**: GitHubの貢献度を「シェアしたくなる」サービス

---

## 差別化ポイント

### 類似サービスとの比較

| サービス | 特徴 | ターゲット |
|---------|------|-----------|
| github-readme-stats | 静的バッジ生成、無料 | 個人README装飾 |
| CodersRank | スキルスコア、ポートフォリオ | 求職者・採用担当 |
| GitClear / LinearB | チーム生産性分析 | エンジニアリングマネージャー |
| WakaTime | コーディング時間計測 | 個人の時間管理 |

### 本サービスの強み

1. **日本語ファースト** - 競合は英語圏中心
2. **SNS映えするOGカード** - シェアしやすいビジュアル
3. **認証不要でPublic分析可能** - 敷居が低い
4. **リポジトリ単位の貢献度可視化** - 「誰がどれだけ貢献したか」が明確
5. **Insight Score** - ランク付きスコアでシェア欲を刺激

---

## 収益化モデル（計画）

### 1. Freemium モデル（推奨）

| 無料 | Pro（月額¥500〜1,000） |
|------|----------------------|
| Publicリポジトリ分析 | Privateリポジトリ対応 |
| 基本バッジ | レアバッジ・カスタムバッジ |
| 標準OGカード | カスタムテーマ・ブランドカード |
| 直近30日分析 | 全期間分析・トレンド比較 |

### 2. チーム/組織向けプラン（月額¥3,000〜/チーム）

- 複数リポジトリ横断分析
- メンバー貢献レポート（週次/月次）
- Slack/Discord 通知連携
- プライベートリーダーボード

### 3. その他

- API提供（従量課金）
- 開発者向けサービスの広告枠
- OSSプロジェクトへの無料提供（ブランディング）

---

## フェーズ

### ✅ Phase 1: MVP（完了）

基本的な貢献度可視化機能。

- [x] GitHub OAuth 認証（Public/Private スコープ）
- [x] リポジトリ選択・検索
- [x] 言語統計（円グラフ）
- [x] コミット推移（折れ線グラフ）
- [x] コントリビューター一覧（棒グラフ/円グラフ）
- [x] アクティビティヒートマップ
- [x] コントリビューターランキング
- [x] バッジシステム（基本）
- [x] 未認証でのPublicリポジトリ閲覧
- [x] Publicリポジトリのインクリメンタル検索
  - 人気リポジトリJSONによるローカル即時検索
  - GitHub Search APIによるリモート検索（デバウンス対応）
  - 検索履歴・おすすめ表示

---

### ✅ Phase 2: 共有・可視化強化（完了）

貢献度の共有性を高める機能。

- [x] **貢献度カード生成**
  - [x] OG画像としてSNS共有可能（@vercel/og使用）
  - [x] ダウンロード・URLコピー機能
  - [x] README埋め込み用Markdown生成
  - [x] リポジトリ貢献カード / ユーザープロファイルカード切り替え
  - [x] ヘッダーにリポジトリオーナーアバター表示
  - [x] フッターにGitHubロゴ + ブランディング
  - [x] モバイル全画面表示（90°回転対応）

- [x] **バッジポップオーバー**
  - [x] タップでバッジ一覧表示
  - [x] モバイル: 固定位置モーダル
  - [x] デスクトップ: 相対位置ドロップダウン

- [x] **ダッシュボードレスポンシブ対応**
  - [x] ヘッダー・統計カード・チャートのモバイル最適化
  - [x] ContributorRanking のモバイル表示最適化

---

### ✅ Phase 3: ユーザー検索・プロファイル機能（完了）

ユーザー単位での統計可視化。

- [x] **ユーザー検索**
  - `@username` 形式でユーザー検索
  - 検索結果にアバター、ユーザー名、User/Organization区別表示
  - 既存の検索バーを拡張（リポジトリ/ユーザー統合）
  - レート制限考慮（Search APIのみ使用、詳細はプロファイルページで取得）

- [x] **ユーザープロファイルページ** (`/user/[username]`)
  - プロフィール情報（アバター、名前、Bio、フォロワー数など）
  - バッジ表示（ポップオーバー対応）
  - OGカード生成ボタン

- [x] **統一レイアウト**
  - [x] AppHeader（共通ヘッダー）
  - [x] DashboardLayout（統一レイアウトラッパー）
  - [x] StatCard / SectionCard（共通コンポーネント）
  - [x] 全ページで検索バー利用可能

- [x] **ユーザー統計グラフ**
  - [x] 言語統計（円グラフ）
  - [x] アクティビティヒートマップ（曜日×時間帯）
  - [x] 貢献タイプ分布（コミット/PR/Issue等）
  - [x] 人気リポジトリ一覧

---

### ✅ Phase 4: Insight Score & GitHub Wrapped（完了）

**バイラル成長のコア機能**。SNSシェアを促進し、ユーザー獲得のループを作る。

- [x] **Insight Score 実装**
  - 「あなたより上位に何%のユーザーがいるか」を示すスコア
  - 計算要素: コミット数、PR数、フォロワー数、スター獲得数、貢献リポジトリ数など
  - パーセンタイル表示（例: 「上位 8.3%」）
  - OGカードに大きく表示してSNSでシェアしやすく
  - ランク表示（Legendary, Master, Expert, etc.）

- [x] **GitHub Wrapped（年末キャンペーン）**
  - `/user/[username]/wrapped/[year]` ページ実装
  - 年間統計サマリー生成（コミット数、PR数、Issue数など）
  - 「今年のハイライト」表示
  - 前年比較（成長率表示）
  - 時間帯別アクティビティ分析
  - Wrapped専用バッジ
  - シェアしやすいOGカード

---

### ✅ Phase 5: UX改善・ソーシャルシェア強化（完了）

ユーザー体験の向上とシェア機能の充実。

- [x] **テーマ切り替え**
  - next-themes導入（ダーク/ライト/システム設定の3モード）
  - ThemeProviderコンポーネント実装
  - AppHeaderにThemeToggleボタン追加
  - localStorage自動永続化、SSR/Hydration対応

- [x] **Xシェアボタン**
  - ContributionCardModalにXシェアボタン追加
  - share.tsユーティリティ実装
  - リポジトリ貢献/ユーザープロフィール/Wrapped用テキスト生成
  - ダーク/ライトモード対応スタイリング

- [x] **メタデータ最適化**
  - layout.tsxにOpen Graph/Twitterカード情報追加
  - 既存のOG画像生成API活用

- [ ] **ストリーク表示**
  - 連続コミット日数
  - 週間アクティビティカレンダー

- [ ] **レーダーチャート**
  - 貢献の多面的な可視化
  - コミット力・レビュー力・継続性など

- [ ] **Pro機能（Freemiumモデル）**
  - Privateリポジトリ対応
  - カスタムテーマOGカード
  - 全期間分析・トレンド比較
  - 決済連携（Stripe）

---

### 💡 Phase 6: 分析・ゲーミフィケーション拡張

より深い分析とエンゲージメント向上。

- [ ] **レア実績バッジ**
  - 時間帯別（Night Owl, Early Bird）
  - 行動別（Sniper, Clean Sweep）
  - コラボ系（Team Player, Mentor）

- [ ] 期間別リーダーボード（週/月/四半期）
- [ ] カテゴリ別ランキング（コミット/レビュー/Issue）
- [ ] 成長率分析（前月比など）
- [ ] 複数リポジトリ横断分析

---

### 🔮 Phase 7: チーム・組織向け機能

B2B展開による収益拡大。

- [ ] **チームプラン**
  - 複数リポジトリ横断分析
  - メンバー貢献レポート（週次/月次）
  - プライベートリーダーボード

- [ ] **連携機能**
  - Slack/Discord 通知
  - 定期レポート自動送信

- [ ] **API提供**
  - 外部サービスからの統計取得
  - CI/CDパイプライン連携

---

## 戦略的タイムライン

### 短期（3ヶ月）
1. ~~**Phase 4「Insight Score」実装**~~ ✅ 完了
2. ~~**GitHub Wrapped キャンペーン**~~ ✅ 完了
3. ~~**Phase 5 UX改善**~~ ✅ 完了
   - ~~テーマ切り替え~~ ✅
   - ~~Xシェアボタン~~ ✅
4. **ストリーク表示** → 連続コミット可視化
5. **レーダーチャート** → 多面的な貢献度分析

### 中期（6ヶ月）
1. **Phase 5 残りの機能** → ストリーク表示、レーダーチャート
2. **Pro プラン開始**（Private リポジトリ + カスタムテーマ）
3. **日本のテックコミュニティとの連携**（connpass, Qiita）
4. **採用担当向けマーケティング**（「候補者の貢献度が見える」）

### 長期（1年）
1. **Phase 6〜7 完了** → 分析拡張、チームプラン
2. **API 提供開始**
3. **多言語対応**（英語、中国語）

---

## 技術的課題

| 課題 | 状態 | 備考 |
|------|------|------|
| APIレート制限対策 | ✅ 対応済み | キャッシュ + 警告表示 |
| SSR/CSR混在 | ✅ 対応済み | Recharts は dynamic import |
| OG画像生成 | ✅ 対応済み | @vercel/og 使用 |
| モバイル対応 | ✅ 対応済み | Tailwind レスポンシブ |
| ダークモード切替 | ✅ 対応済み | next-themes導入、手動切替可能 |
| 人気リポジトリ自動更新 | ✅ 対応済み | GitHub Actionsで毎日更新 |
| データストア導入 | 📝 検討中 | GitHub Wrapped拡張時に必要になる可能性 |
| テストカバレッジ | ✅ 対応済み | 94.15%達成（362テスト） |
| コードベース整理 | ✅ 対応済み | github.ts を8モジュールに分割 |
| CI/CD 最適化 | ✅ 対応済み | キャッシュ追加、similarity-ts導入 |

### データストア候補（将来）

| サービス | 種類 | 特徴 |
|---------|------|------|
| Supabase | PostgreSQL + Auth | 認証統合可能、無料枠500MB |
| Turso | SQLite (libSQL) | エッジ対応、超高速 |
| Vercel Postgres | PostgreSQL | Vercelデプロイならシームレス |
| Upstash | Redis | シンプルなKVなら最軽量 |

---

## 変更履歴

| 日付 | 内容 |
|------|------|
| 2025-12-19 | Phase 5 完了（テーマ切り替え、Xシェアボタン、メタデータ最適化） |
| 2025-12-18 | github.ts リファクタリング完了（1658行→8モジュール分割） |
| 2025-12-18 | テストカバレッジ 21.15% → 94.15% 達成（362テスト、106件追加） |
| 2025-12-18 | CI改善（Playwright/Cargoキャッシュ、similarity-ts導入、AUTH_SECRET追加） |
| 2025-12-18 | GraphQL変数名修正（$query→$searchQuery） |
| 2025-12-17 | Phase 4 Insight Score 完了（スコア計算、UIコンポーネント、OGカード表示） |
| 2025-12-17 | ユーザーページの統計カードを削除、InsightScoreCardに統合 |
| 2025-12-17 | ロードマップ再構成（Insight Scoreを Phase 4 に優先化、Phase 7 追加） |
| 2025-12-17 | 差別化ポイント・収益化モデル・戦略的タイムライン追加 |
| 2025-12-16 | Phase 6 に Insight Score 機能を追加 |
| 2025-12-15 | Phase 3 完了（アクティビティヒートマップ・貢献タイプ分布実装） |
| 2025-12-15 | 統一レイアウト実装（AppHeader, DashboardLayout, StatCard, SectionCard） |
| 2025-12-15 | ユーザーAPIの認証バグ修正（unstable_cache削除） |
| 2025-12-14 | Phase 3 ユーザー検索・プロファイル機能実装（ヒートマップ・貢献分布は未実装） |
| 2025-12-14 | Phase 3 計画策定、ユーザー検索・プロファイル機能仕様書作成 |
| 2025-12-14 | OGカード改善、バッジポップオーバー、人気リポジトリ自動更新 |
| 2025-12-14 | Phase 2 完了、レスポンシブ対応追加 |
| 2025-12-14 | Publicリポジトリ検索機能追加 |
| 2025-12-12 | ロードマップ初版作成 |
| 2025-12-12 | Phase 1 完了、Phase 2 計画策定 |
